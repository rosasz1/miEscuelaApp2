{% extends 'base_dashboard.html' %}

{% block panel_title %}{% endblock %}

{% block content %}
<div class="container" style="max-width: 1200px; margin: 0 auto;">
  <div class="row">

    <!-- Columna izquierda: contenido principal -->
    <div class="col-lg-8">

      <!-- Bienvenida -->
      <div class="card p-4 shadow mb-5" style="background-color: white; border-radius: 16px;">
        <h2 class="mb-2">üëã ¬°Hola {{ nombre }}!</h2>
        <p class="lead">Este es tu panel como profesor. Desde aqu√≠ pod√©s gestionar tus clases, ex√°menes y alumnos.</p>
      </div>

      <!-- Estad√≠sticas -->
      <div class="row g-4 mb-5">
        <div class="col-md-6 col-xl-6">
          <div class="card text-white text-center p-3 shadow-sm" style="background-color: #0288d1;">
            <h5>Materias asignadas</h5>
            <h2>{{ materias_asignadas }}</h2>
          </div>
        </div>
        <div class="col-md-6 col-xl-6">
          <div class="card text-white text-center p-3 shadow-sm" style="background-color: #388e3c;">
            <h5>Alumnos totales</h5>
            <h2>{{ cantidad_alumnos }}</h2>
          </div>
        </div>
        <div class="col-md-6 col-xl-6">
          <div class="card text-white text-center p-3 shadow-sm" style="background-color: #f57c00;">
            <h5>Ex√°menes pr√≥ximos</h5>
            <h2>{{ examenes_proximos }}</h2>
          </div>
        </div>
        <div class="col-md-6 col-xl-6">
          <div class="card text-white text-center p-3 shadow-sm" style="background-color: #7b1fa2;">
            <h5>Horas semanales</h5>
            <h2>{{ horas_dictado }}</h2>
          </div>
        </div>
      </div>

      <!-- √öltimas acciones -->
      <div class="card p-4 shadow mb-5" style="background-color: white; border-radius: 16px;">
        <h4>üïí √öltimas acciones</h4>
        <ul class="list-group list-group-flush mt-3">
          {% for accion in acciones_profesor %}
            <li class="list-group-item">{{ accion }}</li>
          {% else %}
            <li class="list-group-item text-muted">No hay acciones recientes.</li>
          {% endfor %}
        </ul>
      </div>

      <!-- Funciones principales -->
      <div class="row g-4 mt-4">
        <div class="col-md-4">
          <a href="{{ url_for('profesor.crear_examen') }}" class="text-decoration-none">
            <div class="card text-white text-center p-4 shadow-sm" style="background-color: #1976d2;">
              <h5>‚ûï Crear Examen</h5>
            </div>
          </a>
        </div>
        <div class="col-md-4">
          <a href="{{ url_for('profesor.cronograma_profesor') }}" class="text-decoration-none">
            <div class="card text-white text-center p-4 shadow-sm" style="background-color: #0097a7;">
              <h5>üìÖ Ver Cronograma</h5>
            </div>
          </a>
        </div>
        <div class="col-md-4">
          <a href="{{ url_for('profesor.ver_notas') }}" class="text-decoration-none">
            <div class="card text-white text-center p-4 shadow-sm" style="background-color: #43a047;">
              <h5>üìù Ver Notas</h5>
            </div>
          </a>
        </div>
      </div>

    </div>

    <!-- Columna derecha: comunicados -->
    <div class="col-lg-4">
      <div class="card p-4 shadow mb-5" style="background-color: white; border-radius: 16px;">
        <h4>üì© Comunicados recientes</h4>
        <ul class="list-group list-group-flush mt-3">
          {% for comunicado in comunicados_profesor %}
            <li class="list-group-item">
              <strong>{{ comunicado.titulo }}</strong><br>
              <small class="text-muted">{{ comunicado.fecha }}</small><br>
              {{ comunicado.mensaje }}
            </li>
          {% else %}
            <li class="list-group-item text-muted">No hay comunicados nuevos.</li>
          {% endfor %}
        </ul>
      </div>
    </div>

  </div>
</div>
{% endblock %}